// let sq = 58;
// WB = [bsutil.set(0n, 34, 1),'WB']
// BB = [bsutil.set(0n,20,1), 'BB']
// board = util.newBoard(WB,BB)
// let occ = reduce(Array.from(board.values()), (x, y) => { return x | y }, 0n)
// occ =9115041416785969071n
// //let occ = 8787866423n
// bsutil.printBitSet(occ)
// bsutil.printBitSet(magic.bMask(sq))
// occ &= magic.bMask(sq);
// console.log(occ)
// bsutil.printBitSet(occ)
// occ *= magic.bishop_magic_numbers[sq];
// bsutil.printBitSet(occ)
// occ >>= (64n - BigInt(magic.nBBits[sq]))
// console.log('shifted')
// bsutil.printBitSet(occ)
// bsutil.printBitSet(28151626363880158n)
// console.log(28151626363880158n)
// bsutil.printBitSet(magic.bishopAttacksOnTheFly(occ, sq))
// bsutil.printBitSet(magic.bishop_attacks[sq][Number(occ)])
